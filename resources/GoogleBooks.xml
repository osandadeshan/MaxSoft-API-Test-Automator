<?xml version="1.0" encoding="UTF-8"?>
<con:soapui-project id="ab281721-4bc2-43a3-9338-a96a33ca06e5" activeEnvironment="Default" name="REST Project 1" resourceRoot="" soapui-version="5.2.1" abortOnError="false" runType="SEQUENTIAL" xmlns:con="http://eviware.com/soapui/config"><con:settings/><con:interface xsi:type="con:RestService" id="3c0524bc-e285-43bb-927b-c3dcb5a9a798" wadlVersion="http://wadl.dev.java.net/2009/02" name="https://www.googleapis.com" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints><con:endpoint>https://www.googleapis.com</con:endpoint></con:endpoints><con:resource name="V1" path="/books/v1/volumes?q=isbn:0735619670" id="e2d2056f-4c8b-4ccc-9ebd-7af0f8800319"><con:settings/><con:parameters/><con:method name="V1 1" id="64c5bb45-fc8d-4b41-ab51-b24415892118" method="GET"><con:settings/><con:parameters/><con:representation type="FAULT"><con:mediaType>text/html; charset=UTF-8</con:mediaType><con:status>404</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json; charset=UTF-8</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:v1="https://www.googleapis.com/books/v1">v1:Response</con:element></con:representation><con:representation type="FAULT"><con:mediaType>application/json; charset=UTF-8</con:mediaType><con:status>400</con:status><con:params/><con:element xmlns:v1="https://www.googleapis.com/books/v1">v1:Fault</con:element></con:representation><con:request name="Request 1" id="c7143450-ef2d-4ddc-ad3e-79e7dd1bdf67" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://www.googleapis.com</con:endpoint><con:request/><con:originalUri>https://www.googleapis.com/books/v1</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="V2" path="/books/v1/volumes?q=isbn:5455645" id="e2d2056f-4c8b-4ccc-9ebd-7af0f8800319"><con:settings/><con:parameters/><con:method name="V1 1" id="64c5bb45-fc8d-4b41-ab51-b24415892118" method="GET"><con:settings/><con:parameters/><con:representation type="FAULT"><con:mediaType>text/html; charset=UTF-8</con:mediaType><con:status>404</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json; charset=UTF-8</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:v1="https://www.googleapis.com/books/v1">v1:Response</con:element></con:representation><con:representation type="FAULT"><con:mediaType>application/json; charset=UTF-8</con:mediaType><con:status>400</con:status><con:params/><con:element xmlns:v1="https://www.googleapis.com/books/v1">v1:Fault</con:element></con:representation><con:request name="Request 1" id="c7143450-ef2d-4ddc-ad3e-79e7dd1bdf67" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://www.googleapis.com</con:endpoint><con:request/><con:originalUri>https://www.googleapis.com/books/v1</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="V3" path="/books/v1/volumes?q" id="e2d2056f-4c8b-4ccc-9ebd-7af0f8800319"><con:settings/><con:parameters/><con:method name="V1 1" id="64c5bb45-fc8d-4b41-ab51-b24415892118" method="GET"><con:settings/><con:parameters/><con:representation type="FAULT"><con:mediaType>text/html; charset=UTF-8</con:mediaType><con:status>404</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json; charset=UTF-8</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:v1="https://www.googleapis.com/books/v1">v1:Response</con:element></con:representation><con:representation type="FAULT"><con:mediaType>application/json; charset=UTF-8</con:mediaType><con:status>400</con:status><con:params/><con:element xmlns:v1="https://www.googleapis.com/books/v1">v1:Fault</con:element></con:representation><con:request name="Request 1" id="c7143450-ef2d-4ddc-ad3e-79e7dd1bdf67" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://www.googleapis.com</con:endpoint><con:request/><con:originalUri>https://www.googleapis.com/books/v1</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:testSuite id="3ce1d1bf-155d-4e2f-9df0-0bd2146c4013" name="Books TestSuite"><con:description>TestSuite generated for REST Service [https://www.googleapis.com]</con:description><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="bcc27626-6d6b-4265-8e68-dcfa0a7de056" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Validate that the user picks the correct book TestCase" searchProperties="true"><con:description>TestCase generated for REST Resource [V1] located at [/books/v1/volumes?q=isbn:0735619670]</con:description><con:settings/><con:testStep type="restrequest" name="User picks the &quot;Code Complete&quot; book" id="214e980d-14c0-409b-9b07-97ed75f973f3"><con:settings/><con:config service="https://www.googleapis.com" resourcePath="/books/v1/volumes?q=isbn:0735619670" methodName="V1 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="User picks the &quot;Code Complete&quot; book" id="c7143450-ef2d-4ddc-ad3e-79e7dd1bdf67" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://www.googleapis.com</con:endpoint><con:request/><con:originalUri>https://www.googleapis.com/books/v1</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="fd9bc351-1120-4339-9f49-c898a09a8cc7" name="Validate that HTTP Status Code is 200"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="bf096c6e-4a1c-4255-be7b-e645e34edaac" name="Validate that the title of the book is &quot;Code Complete&quot;"><con:configuration><path>$.items[0].volumeInfo.title</path><content>Code Complete</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="0e1eb0e4-6419-4424-8f65-72ae140c6b0e" name="Validate that totalItems = 1"><con:configuration><path>$.totalItems</path><content>1</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="bf096c6e-4a1c-4255-be7b-e645e34edaac" name="Validate that the author of the book is &quot;Steve McConnell&quot;"><con:configuration><path>$.items[0].volumeInfo.authors[0]</path><content>Steve McConnell</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Groovy Script" id="9d616088-76c8-4a44-8b4f-17d47bde29ff"><con:settings/><con:config><script>import groovy.json.JsonSlurper

def response1 = context.expand( '${User picks the "Code Complete" book#Response}' ).toString()
//log.info response1

def jsonString=response1
//log.info jsonString


// Parses JSON text content into Groovy data structures (objects)
JsonSlurper serializer=new JsonSlurper()
def object = serializer.parseText(jsonString)

def book_name = object.items.volumeInfo.title[0]
log.info book_name

// Set property value to the TestCase
testRunner.testCase.setPropertyValue( "BookTitle", book_name )</script></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="c104b6f0-fe5f-4a49-a1f6-d844e18f70c0" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Validate that the user doesn't get any book for invalid isbn TestCase" searchProperties="true"><con:description>TestCase generated for REST Resource [V1] located at [/books/v1/volumes?q=isbn:0735619670]</con:description><con:settings/><con:testStep type="restrequest" name="User provides an invalid isbn" id="a9183edf-75c4-4f55-a3e2-5536bc447db5"><con:settings/><con:config service="https://www.googleapis.com" resourcePath="/books/v1/volumes?q=isbn:5455645" methodName="V1 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="User provides an invalid isbn" id="c7143450-ef2d-4ddc-ad3e-79e7dd1bdf67" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://www.googleapis.com</con:endpoint><con:request/><con:originalUri>https://www.googleapis.com/books/v1</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="fd9bc351-1120-4339-9f49-c898a09a8cc7" name="Validate that HTTP Status Code is 200"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="0e1eb0e4-6419-4424-8f65-72ae140c6b0e" name="Validate that totalItems = 0"><con:configuration><path>$.totalItems</path><content>0</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="8e8c1b08-7f73-4598-8f68-64959aec2d00" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Validate that the user gets an error for the null query TestCase" searchProperties="true"><con:description>TestCase generated for REST Resource [V1] located at [/books/v1/volumes?q=isbn:0735619670]</con:description><con:settings/><con:testStep type="restrequest" name="User provides an invalid isbn" id="0acda6bf-e81f-41f4-bf8d-02393d699916"><con:settings/><con:config service="https://www.googleapis.com" resourcePath="/books/v1/volumes?q" methodName="V1 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="User provides an invalid isbn" id="c7143450-ef2d-4ddc-ad3e-79e7dd1bdf67" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://www.googleapis.com</con:endpoint><con:request/><con:originalUri>https://www.googleapis.com/books/v1</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="fd9bc351-1120-4339-9f49-c898a09a8cc7" name="Validate that HTTP Status Code is 200"><con:configuration><codes>400</codes></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="05d517a3-0285-46de-a725-bc6be5fa01ef" name="Validate that the error message is &quot;Missing query"><con:configuration><path>$.error.message</path><content>Missing query.</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="Simple Contains" id="2807c2fe-b5d2-4ee4-90b5-3ed4d10b3b19" name="Validate that the response contains null for the query"><con:configuration><token>null</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:properties/></con:testSuite><con:properties/><con:wssContainer/><con:oAuth2ProfileContainer/><con:oAuth1ProfileContainer/></con:soapui-project>